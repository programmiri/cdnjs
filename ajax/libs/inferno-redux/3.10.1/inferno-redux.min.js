!(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("inferno"),require("hoist-non-inferno-statics"),require("inferno-component"),require("redux")):"function"==typeof define&&define.amd?define(["exports","inferno","hoist-non-inferno-statics","inferno-component","redux"],n):n((t.Inferno=t.Inferno||{},t.Inferno.Redux={}),t.Inferno,t.hoistStatics,t.Inferno.Component,t.redux)})(this,(function(t,n,e,r,o){"use strict";function i(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&(e[r[o]]=t[r[o]]);return e}function s(t){return"ConnectAdvanced("+t+")"}function u(t,o){var u=o.getDisplayName;void 0===u&&(u=s);var p=o.methodName;void 0===p&&(p="connectAdvanced");var a=o.renderCountProp;void 0===a&&(a=null);var c=o.shouldHandleStateChanges;void 0===c&&(c=!0);var d=o.storeKey;void 0===d&&(d="store");var f=o.withRef;void 0===f&&(f=!1);var h=i(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),l=d+"Subscription",b=y++;return function(o){S("function"==typeof o,"You must pass a component to the function returned by connect. Instead received "+o);var i=o.displayName||o.name||"Component",s=u(i),y=Object.assign({},h,{WrappedComponent:o,displayName:s,getDisplayName:u,methodName:p,renderCountProp:a,shouldHandleStateChanges:c,storeKey:d,withRef:f,wrappedComponentName:i}),g=(function(e){function r(t,n){e.call(this,t,n),this.version=b,this.state={},this.renderCount=0,this.store=this.props[d]||this.context[d],this.propsMode=Boolean(t[d]),this.setWrappedInstance=this.setWrappedInstance.bind(this),S(!!this.store,'Could not find "'+d+'" in either the context or props of "'+s+'". Either wrap the root component in a <Provider>, or explicitly pass "'+d+'" as a prop to "'+s+'".'),this.initSelector(),this.initSubscription()}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.getChildContext=function(){var t=this.propsMode?null:this.subscription;return n={},n[l]=t||this.context[l],n;var n},r.prototype.componentDidMount=function(){c&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},r.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},r.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},r.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=P,this.store=null,this.selector.run=P,this.selector.shouldComponentUpdate=!1},r.prototype.getWrappedInstance=function(){return S(f,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+p+"() call."),this.wrappedInstance},r.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},r.prototype.initSelector=function(){var n=t(this.store.dispatch,y);this.selector=O(n,this.store),this.selector.run(this.props)},r.prototype.initSubscription=function(){if(c){var t=(this.propsMode?this.props:this.context)[l];this.subscription=new v(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},r.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(m)):this.notifyNestedSubs()},r.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},r.prototype.isSubscribed=function(){return Boolean(this.subscription&&this.subscription.isSubscribed())},r.prototype.addExtraProps=function(t){if(!f&&!a)return t;var n=Object.assign({},t);return f&&(n.ref=this.setWrappedInstance),a&&(n[a]=this.renderCount++),this.propsMode&&this.subscription&&(n[l]=this.subscription),n},r.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return n.createVNode(16,o,null,null,this.addExtraProps(t.props))},r})(r);return g.displayName=s,g.WrappedComponent=o,e(g,o)}}function p(t){return g(t)?t:t?[t]:t}function a(t){return d(t)||c(t)}function c(t){return null===t}function d(t){return void 0===t}function f(){this.listeners=[]}e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r;var h=function(){},l={clear:function(){},notify:function(){},subscribe:function(t){return h}},b=function(){var t=[],n=[];return{clear:function(){n=null,t=null},notify:function(){for(var e=t=n,r=0;r<e.length;r++)e[r]()},subscribe:function(e){var r=!0;n===t&&(n=t.slice()),n.push(e);return function(){r&&null!==t&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}},v=function(t,n,e){this.store=t,this.parentSub=n,this.onStateChange=e,this.unsubscribe=null,this.listeners=l};v.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},v.prototype.notifyNestedSubs=function(){this.listeners.notify()},v.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},v.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=b())},v.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)};var y=0,m={},P=function(){},O=function(t,n){var e={error:null,props:{},run:function(r){try{var o=t(n.getState(),r);(o!==e.props||e.error)&&(e.shouldComponentUpdate=!0,e.props=o,e.error=null)}catch(t){e.shouldComponentUpdate=!0,e.error=t}},shouldComponentUpdate:!1};return e},S=function(t,n){if(!t)throw new Error(n)},g=Array.isArray;f.prototype.addListener=function(t){this.listeners.push(t)},f.prototype.trigger=function(){for(var t,n=this.listeners;t=n.shift();)t()};var w=(function(t){function n(n,e){t.call(this,n,e),this.store=n.store}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},n.prototype.render=function(){if(a(this.props.children)||1!==p(this.props.children).length)throw Error("Inferno Error: Only one child is allowed within the `Provider` component");return this.props.children},n})(r);w.displayName="Provider";var C=Object.prototype.hasOwnProperty,N=function(t,n){if(t===n)return!0;var e=0,r=0;for(var o in t){if(C.call(t,o)&&t[o]!==n[o])return!1;e++}for(var i in n)C.call(n,i)&&r++;return e===r},E="object"==typeof global&&global&&global.Object===Object&&global,j="object"==typeof self&&self&&self.Object===Object&&self,q=(E||j||Function("return this")(),Function.prototype.toString.call(Object),function(t){return function(n,e){var r=t(n,e),o=function(){return r};return o.dependsOnOwnProps=!1,o}}),x=function(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?!!t.dependsOnOwnProps:1!==t.length},M=function(t,n){return function(n,e){var r=function(t,n){return r.dependsOnOwnProps?r.mapToProps(t,n):r.mapToProps(t)};return r.dependsOnOwnProps=x(t),r.mapToProps=function(n,e){r.mapToProps=t;var o=r(n,e);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=x(o),o=r(n,e)),o},r}},U=[function(t){return"function"==typeof t?M(t):void 0},function(t){return t?void 0:q((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?q((function(n){return o.bindActionCreators(t,n)})):void 0}],T=[function(t){return"function"==typeof t?M(t):void 0},function(t){return t?void 0:q((function(){return{}}))}],I=function(t,n,e){return Object.assign({},e,t,n)},D=function(t){return function(n,e){var r,o=e.pure,i=e.areMergedPropsEqual,s=!1;return function(n,e,u){var p=t(n,e,u);return s?o&&i(p,r)||(r=p):(s=!0,r=p),r}}},_=[function(t){return"function"==typeof t?D(t):void 0},function(t){return t?void 0:function(){return I}}],W=function(t,n,e,r){return function(o,i){return e(t(o,i),n(r,i),i)}},A=function(t,n,e,r,o){var i,s,u,p,a,c=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,h=!1,l=function(o,c){return i=o,s=c,u=t(i,s),p=n(r,s),a=e(u,p,s),h=!0,a},b=function(){return u=t(i,s),n.dependsOnOwnProps&&(p=n(r,s)),a=e(u,p,s)},v=function(){return t.dependsOnOwnProps&&(u=t(i,s)),n.dependsOnOwnProps&&(p=n(r,s)),a=e(u,p,s)},y=function(){var n=t(i,s),r=!f(n,u);return u=n,r&&(a=e(u,p,s)),a},m=function(t,n){var e=!d(n,s),r=!c(t,i);return i=t,s=n,e&&r?b():e?v():r?y():a};return function(t,n){return h?m(t,n):l(t,n)}},F=function(t,n){var e=n.initMapStateToProps,r=n.initMapDispatchToProps,o=n.initMergeProps,s=i(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=e(t,s),p=r(t,s),a=o(t,s);return(s.pure?A:W)(u,p,a,t,s)},R=function(t,n,e){for(var r=n.length-1;r>=0;r--){var o=n[r](t);if(o)return o}return function(n,r){throw new Error("Invalid value of type "+typeof t+" for "+e+" argument when connecting component "+r.wrappedComponentName+".")}},H=function(t,n){return t===n},B=(function(t){void 0===t&&(t={});var n=t.connectHOC;void 0===n&&(n=u);var e=t.mapStateToPropsFactories;void 0===e&&(e=T);var r=t.mapDispatchToPropsFactories;void 0===r&&(r=U);var o=t.mergePropsFactories;void 0===o&&(o=_);var s=t.selectorFactory;return void 0===s&&(s=F),function(t,u,p,a){void 0===a&&(a={});var c=a.pure;void 0===c&&(c=!0);var d=a.areStatesEqual;void 0===d&&(d=H);var f=a.areOwnPropsEqual;void 0===f&&(f=N);var h=a.areStatePropsEqual;void 0===h&&(h=N);var l=a.areMergedPropsEqual;void 0===l&&(l=N);var b=i(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=R(t,e,"mapStateToProps"),y=R(u,r,"mapDispatchToProps"),m=R(p,o,"mergeProps");return n(s,Object.assign({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:!!t,initMapStateToProps:v,initMapDispatchToProps:y,initMergeProps:m,pure:c,areStatesEqual:d,areOwnPropsEqual:f,areStatePropsEqual:h,areMergedPropsEqual:l},b))}})(),K={Provider:w,connectAdvanced:u,connect:B};t.Provider=w,t.connectAdvanced=u,t.connect=B,t.default=K,Object.defineProperty(t,"__esModule",{value:!0})}));
